function polyfill(){var t=window,e=document;if(!("scrollBehavior"in e.documentElement.style&&!0!==t.__forceSmoothScrollPolyfill__)){var n,o=t.HTMLElement||t.Element,r=468,i={scroll:t.scroll||t.scrollTo,scrollBy:t.scrollBy,elementScroll:o.prototype.scroll||l,scrollIntoView:o.prototype.scrollIntoView},a=t.performance&&t.performance.now?t.performance.now.bind(t.performance):Date.now,s=(n=t.navigator.userAgent,new RegExp(["MSIE ","Trident/","Edge/"].join("|")).test(n)?1:0);t.scroll=t.scrollTo=function(){void 0!==arguments[0]&&(!0!==c(arguments[0])?h.call(t,e.body,void 0!==arguments[0].left?~~arguments[0].left:t.scrollX||t.pageXOffset,void 0!==arguments[0].top?~~arguments[0].top:t.scrollY||t.pageYOffset):i.scroll.call(t,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:t.scrollX||t.pageXOffset,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:t.scrollY||t.pageYOffset))},t.scrollBy=function(){void 0!==arguments[0]&&(c(arguments[0])?i.scrollBy.call(t,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:0,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:0):h.call(t,e.body,~~arguments[0].left+(t.scrollX||t.pageXOffset),~~arguments[0].top+(t.scrollY||t.pageYOffset)))},o.prototype.scroll=o.prototype.scrollTo=function(){if(void 0!==arguments[0])if(!0!==c(arguments[0])){var t=arguments[0].left,e=arguments[0].top;h.call(this,this,void 0===t?this.scrollLeft:~~t,void 0===e?this.scrollTop:~~e)}else{if("number"==typeof arguments[0]&&void 0===arguments[1])throw new SyntaxError("Value could not be converted");i.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left:"object"!=typeof arguments[0]?~~arguments[0]:this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top:void 0!==arguments[1]?~~arguments[1]:this.scrollTop)}},o.prototype.scrollBy=function(){void 0!==arguments[0]&&(!0!==c(arguments[0])?this.scroll({left:~~arguments[0].left+this.scrollLeft,top:~~arguments[0].top+this.scrollTop,behavior:arguments[0].behavior}):i.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left+this.scrollLeft:~~arguments[0]+this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top+this.scrollTop:~~arguments[1]+this.scrollTop))},o.prototype.scrollIntoView=function(){if(!0!==c(arguments[0])){var n=function(t){for(;t!==e.body&&!1===p(t);)t=t.parentNode||t.host;return t}(this),o=n.getBoundingClientRect(),r=this.getBoundingClientRect();n!==e.body?(h.call(this,n,n.scrollLeft+r.left-o.left,n.scrollTop+r.top-o.top),"fixed"!==t.getComputedStyle(n).position&&t.scrollBy({left:o.left,top:o.top,behavior:"smooth"})):t.scrollBy({left:r.left,top:r.top,behavior:"smooth"})}else i.scrollIntoView.call(this,void 0===arguments[0]||arguments[0])}}function l(t,e){this.scrollLeft=t,this.scrollTop=e}function c(t){if(null===t||"object"!=typeof t||void 0===t.behavior||"auto"===t.behavior||"instant"===t.behavior)return!0;if("object"==typeof t&&"smooth"===t.behavior)return!1;throw new TypeError("behavior member of ScrollOptions "+t.behavior+" is not a valid value for enumeration ScrollBehavior.")}function u(t,e){return"Y"===e?t.clientHeight+s<t.scrollHeight:"X"===e?t.clientWidth+s<t.scrollWidth:void 0}function d(e,n){var o=t.getComputedStyle(e,null)["overflow"+n];return"auto"===o||"scroll"===o}function p(t){var e=u(t,"Y")&&d(t,"Y"),n=u(t,"X")&&d(t,"X");return e||n}function f(e){var n,o,i,s,l=(a()-e.startTime)/r;s=l=l>1?1:l,n=.5*(1-Math.cos(Math.PI*s)),o=e.startX+(e.x-e.startX)*n,i=e.startY+(e.y-e.startY)*n,e.method.call(e.scrollable,o,i),o===e.x&&i===e.y||t.requestAnimationFrame(f.bind(t,e))}function h(n,o,r){var s,c,u,d,p=a();n===e.body?(s=t,c=t.scrollX||t.pageXOffset,u=t.scrollY||t.pageYOffset,d=i.scroll):(s=n,c=n.scrollLeft,u=n.scrollTop,d=l),f({scrollable:s,method:d,startTime:p,startX:c,startY:u,x:o,y:r})}}!function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e(require,exports,module):t.CountUp=e()}(this,function(t,e,n){return function(t,e,n,o,r,i){var a=this;if(a.version=function(){return"1.9.3"},a.options={useEasing:!0,useGrouping:!0,separator:",",decimal:".",easingFn:function(t,e,n,o){return n*(1-Math.pow(2,-10*t/o))*1024/1023+e},formattingFn:function(t){var e,n,o,r,i,s,l=t<0;if(t=Math.abs(t).toFixed(a.decimals),n=(e=(t+="").split("."))[0],o=1<e.length?a.options.decimal+e[1]:"",a.options.useGrouping){for(r="",i=0,s=n.length;i<s;++i)0!==i&&i%3==0&&(r=a.options.separator+r),r=n[s-i-1]+r;n=r}return a.options.numerals.length&&(n=n.replace(/[0-9]/g,function(t){return a.options.numerals[+t]}),o=o.replace(/[0-9]/g,function(t){return a.options.numerals[+t]})),(l?"-":"")+a.options.prefix+n+o+a.options.suffix},prefix:"",suffix:"",numerals:[]},i&&"object"==typeof i)for(var s in a.options)i.hasOwnProperty(s)&&null!==i[s]&&(a.options[s]=i[s]);""===a.options.separator?a.options.useGrouping=!1:a.options.separator=""+a.options.separator;for(var l=0,c=["webkit","moz","ms","o"],u=0;u<c.length&&!window.requestAnimationFrame;++u)window.requestAnimationFrame=window[c[u]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[c[u]+"CancelAnimationFrame"]||window[c[u]+"CancelRequestAnimationFrame"];function d(t){return"number"==typeof t&&!isNaN(t)}window.requestAnimationFrame||(window.requestAnimationFrame=function(t,e){var n=(new Date).getTime(),o=Math.max(0,16-(n-l)),r=window.setTimeout(function(){t(n+o)},o);return l=n+o,r}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)}),a.initialize=function(){return!!a.initialized||(a.error="",a.d="string"==typeof t?document.getElementById(t):t,a.d?(a.startVal=Number(e),a.endVal=Number(n),d(a.startVal)&&d(a.endVal)?(a.decimals=Math.max(0,o||0),a.dec=Math.pow(10,a.decimals),a.duration=1e3*Number(r)||2e3,a.countDown=a.startVal>a.endVal,a.frameVal=a.startVal,a.initialized=!0):(a.error="[CountUp] startVal ("+e+") or endVal ("+n+") is not a number",!1)):!(a.error="[CountUp] target is null or undefined"))},a.printValue=function(t){var e=a.options.formattingFn(t);"INPUT"===a.d.tagName?this.d.value=e:"text"===a.d.tagName||"tspan"===a.d.tagName?this.d.textContent=e:this.d.innerHTML=e},a.count=function(t){a.startTime||(a.startTime=t);var e=(a.timestamp=t)-a.startTime;a.remaining=a.duration-e,a.options.useEasing?a.countDown?a.frameVal=a.startVal-a.options.easingFn(e,0,a.startVal-a.endVal,a.duration):a.frameVal=a.options.easingFn(e,a.startVal,a.endVal-a.startVal,a.duration):a.countDown?a.frameVal=a.startVal-(a.startVal-a.endVal)*(e/a.duration):a.frameVal=a.startVal+(a.endVal-a.startVal)*(e/a.duration),a.countDown?a.frameVal=a.frameVal<a.endVal?a.endVal:a.frameVal:a.frameVal=a.frameVal>a.endVal?a.endVal:a.frameVal,a.frameVal=Math.round(a.frameVal*a.dec)/a.dec,a.printValue(a.frameVal),e<a.duration?a.rAF=requestAnimationFrame(a.count):a.callback&&a.callback()},a.start=function(t){a.initialize()&&(a.callback=t,a.rAF=requestAnimationFrame(a.count))},a.pauseResume=function(){a.paused?(a.paused=!1,delete a.startTime,a.duration=a.remaining,a.startVal=a.frameVal,requestAnimationFrame(a.count)):(a.paused=!0,cancelAnimationFrame(a.rAF))},a.reset=function(){a.paused=!1,delete a.startTime,a.initialized=!1,a.initialize()&&(cancelAnimationFrame(a.rAF),a.printValue(a.startVal))},a.update=function(t){a.initialize()&&(d(t=Number(t))?(a.error="",t!==a.frameVal&&(cancelAnimationFrame(a.rAF),a.paused=!1,delete a.startTime,a.startVal=a.frameVal,a.endVal=t,a.countDown=a.startVal>a.endVal,a.rAF=requestAnimationFrame(a.count))):a.error="[CountUp] update() - new endVal is not a number: "+t)},a.initialize()&&a.printValue(a.startVal)}}),function(t,e){"object"==typeof exports&&exports&&"string"!=typeof exports.nodeName?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):(t.Mustache={},e(t.Mustache))}(this,function(t){var e=Object.prototype.toString,n=Array.isArray||function(t){return"[object Array]"===e.call(t)};function o(t){return"function"==typeof t}function r(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function i(t,e){return null!=t&&"object"==typeof t&&e in t}var a=RegExp.prototype.test;var s=/\S/;function l(t){return!function(t,e){return a.call(t,e)}(s,t)}var c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};var u=/\s*/,d=/\s+/,p=/\s*=/,f=/\s*\}/,h=/#|\^|\/|>|\{|&|=|!/;function m(t){this.string=t,this.tail=t,this.pos=0}function y(t,e){this.view=t,this.cache={".":this.view},this.parent=e}function v(){this.cache={}}m.prototype.eos=function(){return""===this.tail},m.prototype.scan=function(t){var e=this.tail.match(t);if(!e||0!==e.index)return"";var n=e[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},m.prototype.scanUntil=function(t){var e,n=this.tail.search(t);switch(n){case-1:e=this.tail,this.tail="";break;case 0:e="";break;default:e=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=e.length,e},y.prototype.push=function(t){return new y(t,this)},y.prototype.lookup=function(t){var e,n,r,a=this.cache;if(a.hasOwnProperty(t))e=a[t];else{for(var s,l,c,u=this,d=!1;u;){if(t.indexOf(".")>0)for(s=u.view,l=t.split("."),c=0;null!=s&&c<l.length;)c===l.length-1&&(d=i(s,l[c])||(n=s,r=l[c],null!=n&&"object"!=typeof n&&n.hasOwnProperty&&n.hasOwnProperty(r))),s=s[l[c++]];else s=u.view[t],d=i(u.view,t);if(d){e=s;break}u=u.parent}a[t]=e}return o(e)&&(e=e.call(this.view)),e},v.prototype.clearCache=function(){this.cache={}},v.prototype.parse=function(e,o){var i=this.cache,a=e+":"+(o||t.tags).join(":"),s=i[a];return null==s&&(s=i[a]=function(e,o){if(!e)return[];var i,a,s,c=!1,y=[],v=[],w=[],b=!1,g=!1,S="",A=0;function E(){if(b&&!g)for(;w.length;)delete v[w.pop()];else w=[];b=!1,g=!1}function L(t){if("string"==typeof t&&(t=t.split(d,2)),!n(t)||2!==t.length)throw new Error("Invalid tags: "+t);i=new RegExp(r(t[0])+"\\s*"),a=new RegExp("\\s*"+r(t[1])),s=new RegExp("\\s*"+r("}"+t[1]))}L(o||t.tags);for(var _,x,F,k,T,V,q=new m(e);!q.eos();){if(_=q.pos,F=q.scanUntil(i))for(var O=0,C=F.length;O<C;++O)l(k=F.charAt(O))?(w.push(v.length),S+=k):(g=!0,c=!0,S+=" "),v.push(["text",k,_,_+1]),_+=1,"\n"===k&&(E(),S="",A=0,c=!1);if(!q.scan(i))break;if(b=!0,x=q.scan(h)||"name",q.scan(u),"="===x?(F=q.scanUntil(p),q.scan(p),q.scanUntil(a)):"{"===x?(F=q.scanUntil(s),q.scan(f),q.scanUntil(a),x="&"):F=q.scanUntil(a),!q.scan(a))throw new Error("Unclosed tag at "+q.pos);if(T=">"==x?[x,F,_,q.pos,S,A,c]:[x,F,_,q.pos],A++,v.push(T),"#"===x||"^"===x)y.push(T);else if("/"===x){if(!(V=y.pop()))throw new Error('Unopened section "'+F+'" at '+_);if(V[1]!==F)throw new Error('Unclosed section "'+V[1]+'" at '+_)}else"name"===x||"{"===x||"&"===x?g=!0:"="===x&&L(F)}if(E(),V=y.pop())throw new Error('Unclosed section "'+V[1]+'" at '+q.pos);return function(t){for(var e,n=[],o=n,r=[],i=0,a=t.length;i<a;++i)switch((e=t[i])[0]){case"#":case"^":o.push(e),r.push(e),o=e[4]=[];break;case"/":r.pop()[5]=e[2],o=r.length>0?r[r.length-1][4]:n;break;default:o.push(e)}return n}(function(t){for(var e,n,o=[],r=0,i=t.length;r<i;++r)(e=t[r])&&("text"===e[0]&&n&&"text"===n[0]?(n[1]+=e[1],n[3]=e[3]):(o.push(e),n=e));return o}(v))}(e,o)),s},v.prototype.render=function(t,e,n,o){var r=this.parse(t,o),i=e instanceof y?e:new y(e);return this.renderTokens(r,i,n,t,o)},v.prototype.renderTokens=function(t,e,n,o,r){for(var i,a,s,l="",c=0,u=t.length;c<u;++c)s=void 0,"#"===(a=(i=t[c])[0])?s=this.renderSection(i,e,n,o):"^"===a?s=this.renderInverted(i,e,n,o):">"===a?s=this.renderPartial(i,e,n,r):"&"===a?s=this.unescapedValue(i,e):"name"===a?s=this.escapedValue(i,e):"text"===a&&(s=this.rawValue(i)),void 0!==s&&(l+=s);return l},v.prototype.renderSection=function(t,e,r,i){var a=this,s="",l=e.lookup(t[1]);if(l){if(n(l))for(var c=0,u=l.length;c<u;++c)s+=this.renderTokens(t[4],e.push(l[c]),r,i);else if("object"==typeof l||"string"==typeof l||"number"==typeof l)s+=this.renderTokens(t[4],e.push(l),r,i);else if(o(l)){if("string"!=typeof i)throw new Error("Cannot use higher-order sections without the original template");null!=(l=l.call(e.view,i.slice(t[3],t[5]),function(t){return a.render(t,e,r)}))&&(s+=l)}else s+=this.renderTokens(t[4],e,r,i);return s}},v.prototype.renderInverted=function(t,e,o,r){var i=e.lookup(t[1]);if(!i||n(i)&&0===i.length)return this.renderTokens(t[4],e,o,r)},v.prototype.indentPartial=function(t,e,n){for(var o=e.replace(/[^ \t]/g,""),r=t.split("\n"),i=0;i<r.length;i++)r[i].length&&(i>0||!n)&&(r[i]=o+r[i]);return r.join("\n")},v.prototype.renderPartial=function(t,e,n,r){if(n){var i=o(n)?n(t[1]):n[t[1]];if(null!=i){var a=t[6],s=t[5],l=t[4],c=i;return 0==s&&l&&(c=this.indentPartial(i,l,a)),this.renderTokens(this.parse(c,r),e,n,c)}}},v.prototype.unescapedValue=function(t,e){var n=e.lookup(t[1]);if(null!=n)return n},v.prototype.escapedValue=function(e,n){var o=n.lookup(e[1]);if(null!=o)return t.escape(o)},v.prototype.rawValue=function(t){return t[1]},t.name="mustache.js",t.version="3.1.0",t.tags=["{{","}}"];var w=new v;return t.clearCache=function(){return w.clearCache()},t.parse=function(t,e){return w.parse(t,e)},t.render=function(t,e,o,r){if("string"!=typeof t)throw new TypeError('Invalid template! Template should be a "string" but "'+(n(i=t)?"array":typeof i)+'" was given as the first argument for mustache#render(template, view, partials)');var i;return w.render(t,e,o,r)},t.to_html=function(e,n,r,i){var a=t.render(e,n,r);if(!o(i))return a;i(a)},t.escape=function(t){return String(t).replace(/[&<>"'`=\/]/g,function(t){return c[t]})},t.Scanner=m,t.Context=y,t.Writer=v,t}),Element.prototype.matches=Element.prototype.webkitMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.mozMatchesSelector||function(t){for(var e=(this.document||this.ownerDocument).querySelectorAll(t),n=0;e[n]&&e[n]!==this;)++n;return!!e[n]},Element.prototype.closest=function(t){for(var e=this;e;){if(e.matches(t))return e;e=e.parentElement}return null},
/*! @source http://purl.eligrey.com/github/classList.js/blob/master/classList.js */
"document"in self&&("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))||function(t){if("Element"in t){t=t.Element.prototype;var e=Object,n=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},o=Array.prototype.indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1},r=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},i=function(t,e){if(""===e)throw new r("SYNTAX_ERR","The token must not be empty.");if(/\s/.test(e))throw new r("INVALID_CHARACTER_ERR","The token must not contain space characters.");return o.call(t,e)},a=function(t){for(var e=n.call(t.getAttribute("class")||""),o=0,r=(e=e?e.split(/\s+/):[]).length;o<r;o++)this.push(e[o]);this._updateClassName=function(){t.setAttribute("class",this.toString())}},s=a.prototype=[],l=function(){return new a(this)};if(r.prototype=Error.prototype,s.item=function(t){return this[t]||null},s.contains=function(t){return!~i(this,t+"")},s.add=function(){var t=arguments,e=0,n=t.length,o=!1;do{var r=t[e]+"";~i(this,r)&&(this.push(r),o=!0)}while(++e<n);o&&this._updateClassName()},s.remove=function(){var t,e=arguments,n=0,o=e.length,r=!1;do{var a=e[n]+"";for(t=i(this,a);~t;)this.splice(t,1),r=!0,t=i(this,a)}while(++n<o);r&&this._updateClassName()},s.toggle=function(t,e){var n=this.contains(t),o=n?!0!==e&&"remove":!1!==e&&"add";return o&&this[o](t),!0===e||!1===e?e:!n},s.replace=function(t,e){var n=i(t+"");~n&&(this.splice(n,1,e),this._updateClassName())},s.toString=function(){return this.join(" ")},e.defineProperty){s={get:l,enumerable:!0,configurable:!0};try{e.defineProperty(t,"classList",s)}catch(n){void 0!==n.number&&-2146823252!==n.number||(s.enumerable=!1,e.defineProperty(t,"classList",s))}}else e.prototype.__defineGetter__&&t.__defineGetter__("classList",l)}}(self),function(){var t=document.createElement("_");if(t.classList.add("c1","c2"),!t.classList.contains("c2")){var e=function(t){var e=DOMTokenList.prototype[t];DOMTokenList.prototype[t]=function(t){var n,o=arguments.length;for(n=0;n<o;n++)t=arguments[n],e.call(this,t)}};e("add"),e("remove")}if(t.classList.toggle("c3",!1),t.classList.contains("c3")){var n=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return 1 in arguments&&!this.contains(t)==!e?e:n.call(this,t)}}"replace"in document.createElement("_").classList||(DOMTokenList.prototype.replace=function(t,e){var n=this.toString().split(" "),o=n.indexOf(t+"");~o&&(n=n.slice(o),this.remove.apply(this,n),this.add(e),this.add.apply(this,n.slice(1)))}),t=null}()),function(){if("function"==typeof window.CustomEvent)return!1;window.CustomEvent=function(t,e){e=e||{bubbles:!1,cancelable:!1,detail:null};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n}}(),function(t,e){"use strict";var n={};t.PubSub=n;var o=t.define;!function(t){var e={},n=-1;function o(t){var e;for(e in t)if(t.hasOwnProperty(e))return!0;return!1}function r(t,e,n){try{t(e,n)}catch(t){setTimeout(function(t){return function(){throw t}}(t),0)}}function i(t,e,n){t(e,n)}function a(t,n,o,a){var s,l=e[n],c=a?i:r;if(e.hasOwnProperty(n))for(s in l)l.hasOwnProperty(s)&&c(l[s],t,o)}function s(t,n,r,i){var s=function(t,e,n){return function(){var o=String(t),r=o.lastIndexOf(".");for(a(t,t,e,n);-1!==r;)o=o.substr(0,r),r=o.lastIndexOf("."),a(t,o,e,n)}}(t="symbol"==typeof t?t.toString():t,n,i),l=function(t){var n=String(t),r=Boolean(e.hasOwnProperty(n)&&o(e[n])),i=n.lastIndexOf(".");for(;!r&&-1!==i;)n=n.substr(0,i),i=n.lastIndexOf("."),r=Boolean(e.hasOwnProperty(n)&&o(e[n]));return r}(t);return!!l&&(!0===r?s():setTimeout(s,0),!0)}t.publish=function(e,n){return s(e,n,!1,t.immediateExceptions)},t.publishSync=function(e,n){return s(e,n,!0,t.immediateExceptions)},t.subscribe=function(t,o){if("function"!=typeof o)return!1;t="symbol"==typeof t?t.toString():t,e.hasOwnProperty(t)||(e[t]={});var r="uid_"+String(++n);return e[t][r]=o,r},t.subscribeOnce=function(e,n){var o=t.subscribe(e,function(){t.unsubscribe(o),n.apply(this,arguments)});return t},t.clearAllSubscriptions=function(){e={}},t.clearSubscriptions=function(t){var n;for(n in e)e.hasOwnProperty(n)&&0===n.indexOf(t)&&delete e[n]},t.unsubscribe=function(n){var o,r,i,a="string"==typeof n&&(e.hasOwnProperty(n)||function(t){var n;for(n in e)if(e.hasOwnProperty(n)&&0===n.indexOf(t))return!0;return!1}(n)),s=!a&&"string"==typeof n,l="function"==typeof n,c=!1;if(!a){for(o in e)if(e.hasOwnProperty(o)){if(r=e[o],s&&r[n]){delete r[n],c=n;break}if(l)for(i in r)r.hasOwnProperty(i)&&r[i]===n&&(delete r[i],c=!0)}return c}t.clearSubscriptions(n)}}(n),"function"==typeof o&&o.amd?o(function(){return n}):"object"==typeof exports&&(void 0!==module&&module.exports&&(exports=module.exports=n),exports.PubSub=n,module.exports=exports=n)}("object"==typeof window&&window||this),"object"==typeof exports&&"undefined"!=typeof module?module.exports={polyfill:polyfill}:polyfill()
/*! UTF-8

© kovrigin
Все права разрешены
красивый дизайн должен иметь красивый код®

https://github.com/htmlpluscss/

*/;var SF={resizeTimeout:null,windowWidthOLd:null};window.addEventListener("resize",function(){window.requestAnimationFrame(function(){SF.resizeTimeout||(SF.resizeTimeout=setTimeout(function(){SF.resizeTimeout=null,window.innerWidth!==SF.windowWidthOLd&&PubSub.publish("windowWidthResize")},100))})}),window.addEventListener("scroll",function(){window.requestAnimationFrame(function(){PubSub.publish("windowScroll")})}),window.addEventListener("DOMContentLoaded",function(){PubSub.publish("DOMContentLoaded")}),window.addEventListener("load",function(){PubSub.publish("pageLoad")}),SF.cssAnimation=function(t){var e,n,o=document.createElement("cssanimation");switch(t){case"animation":e={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};break;case"transition":e={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"}}for(n in e)if(void 0!==o.style[n])return e[n]},SF.isInViewport=function(t){var e=t.getBoundingClientRect();return e.top>=0&&e.bottom<=window.innerHeight},SF.sepNumber=function(t){return(t=parseInt(t,10).toString()).replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,"$1 ")},SF.strToNumber=function(t){return parseInt(t.replace(/\s+/g,""),10)},function(t){if(t){var e=t.querySelectorAll('[name="address-city"]');Array.prototype.forEach.call(e,function(n){n.addEventListener("change",function(){Array.prototype.forEach.call(e,function(t){t.closest(".btn").classList.toggle("is-active",t===n)});var o=t.querySelector('[name="address-city"]:checked').value;PubSub.publish("addressCity",o)})}),PubSub.subscribe("addressCity",function(t,e){console.log(e)})}}(document.querySelector("#address-city")),function(t){t&&(t.addEventListener("click",function(t){var e=t.target.closest("[data-show-map]");if(e){var n=e.getAttribute("data-show-map"),o=document.querySelector("#address-city").getBoundingClientRect().top;o<0&&window.scrollTo(0,o+window.pageYOffset),PubSub.publish("addressShop",n)}}),PubSub.subscribe("addressShop",function(t,e){console.log(e)}))}(document.querySelector(".address-shop")),function(t){var e=document.querySelectorAll(".slider-range");if(e.length){var n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src="/js/nouislider.min.js",n.onload=function(){SF.sliderRangeInit(e)},document.head.appendChild(n)}}(document.querySelector(".filter")),SF.sliderRangeInit=function(t){Array.prototype.forEach.call(t,function(t){var e=parseInt(t.getAttribute("data-min"),10),n=parseInt(t.getAttribute("data-max"),10),o=t.querySelectorAll(".slider-range__input-control .input"),r=t.querySelector(".slider-range__input-min"),i=t.querySelector(".slider-range__input-max"),a=t.querySelector(".slider-range__track");noUiSlider.create(a,{start:[e,n],connect:!0,range:{min:e,max:n}}),a.noUiSlider.on("slide",function(t){r.value=SF.sepNumber(parseInt(t[0],10)),i.value=SF.sepNumber(parseInt(t[1],10))}),Array.prototype.forEach.call(o,function(t){t.addEventListener("focus",function(){setTimeout(function(){t.setSelectionRange(0,99)},100)}),t.addEventListener("input",function(o){var s=parseInt(r.value,10),l=parseInt(i.value,10);13==o.keyCode&&(t.blur(),o.preventDefault()),s<e&&(s=e,this.value=e),l>n&&(l=n,this.value=n),s<l&&a.noUiSlider.set([s,l])})})})},function(t){t.length&&Array.prototype.forEach.call(t,function(t){t.addEventListener("change",function(){SF.modalShow("rules")})})}(document.querySelectorAll(".js-checkbox-rule")),function(t){t.length&&Array.prototype.forEach.call(t,function(t){t.addEventListener("click",function(){var e=t.getAttribute("data-change"),n=t.getAttribute("data-checked"),o=document.querySelectorAll("."+e);Array.prototype.forEach.call(o,function(t){t.checked="true"==n})})})}(document.querySelectorAll(".js-btn-rules")),SF.mask=function(t){if(t.length)if("undefined"==typeof Inputmask){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="/js/inputmask.min.js",e.onload=function(){Inputmask.extendDefaults({oncomplete:function(){this.classList.add("inputmask--complete")},onincomplete:function(){this.classList.remove("inputmask--complete")},oncleared:function(){},onKeyValidation:function(t,e){}}),n()},setTimeout(function(){document.head.appendChild(e)},3e3)}else n();function n(){Array.prototype.forEach.call(t,function(t){if(t.classList.contains("inputmask--phone"))var e=new Inputmask({mask:"+7 999 999 99 99",showMaskOnHover:!1,placeholder:"+7 ___ ___ __ __"});else if(t.classList.contains("inputmask--date"))e=new Inputmask({alias:"datetime",showMaskOnHover:!1,inputFormat:"dd.mm.yyyy",placeholder:"дд.мм.гггг"});else if(t.classList.contains("inputmask--currency"))e=new Inputmask({alias:"integer",suffix:" рублей",groupSize:3,autoGroup:!0,groupSeparator:" ",rightAlign:!1});else e=new Inputmask(t.getAttribute("data-mask"));e.mask(t)})}},SF.mask(document.querySelectorAll(".inputmask")),document.addEventListener("click",function(t){(t.target.closest(".btn-menu-toggle")||t.target.classList.contains("menu-show"))&&(SF.OpenMenu?(document.body.classList.remove("menu-show"),window.scrollTo(0,SF.windowScrollOld),SF.OpenMenu=!1):(SF.OpenMenu=!0,SF.windowScrollOld=window.pageYOffset,window.scrollTo(0,0),document.body.classList.add("menu-show")))}),function(t){if(t){var e=t.querySelectorAll(".modal__item"),n=document.querySelectorAll("[data-modal]"),o=document.querySelector(".wrapper"),r=0;t.addEventListener("click",function(t){(t.target.classList.contains("modal")||t.target.closest(".modal__close"))&&SF.hideModal()}),SF.hideModal=function(){t.classList.add("visuallyhidden"),document.body.classList.remove("modal-show"),o.style.top=0,window.scrollTo(0,r),SF.activeModal=!1,setTimeout(function(){document.documentElement.classList.remove("scroll-behavior-off")})},SF.modalShow=function(n,i){document.documentElement.classList.add("scroll-behavior-off"),SF.activeModal||(r=window.pageYOffset,o.style.top=-r+"px"),SF.activeModal=t.querySelector(".modal__item--"+n),t.classList.toggle("modal--wide",SF.activeModal.classList.contains("is-wide")),Array.prototype.forEach.call(e,function(t){t.classList.toggle("visuallyhidden",t!==SF.activeModal)}),t.classList.remove("visuallyhidden"),document.body.classList.add("modal-show"),window.scrollTo(0,0),SF.activeModal.focus()},Array.prototype.forEach.call(n,function(t){t.addEventListener("click",function(t){t.preventDefault(),SF.modalShow(this.getAttribute("data-modal"))})})}}(document.querySelector(".modal")),function(t){t.length&&Array.prototype.forEach.call(t,function(t){var e=t.querySelector(".more-slide__btn"),n=t.querySelector(".more-slide__box"),o=t.querySelector(".more-slide__inner");e.addEventListener("click",function(){var t=o.clientHeight;e.classList.contains("is-open")&&(t=0,n.classList.remove("is-open")),n.style.height=t+"px",e.classList.toggle("is-open")}),n.addEventListener(SF.cssAnimation("transition"),function(){e.classList.contains("is-open")&&n.classList.add("is-open")})})}(document.querySelectorAll(".more-slide")),function(t){if(t){var e=document.querySelector("#modal-gallery");function n(t){var n={img:[]},o=document.querySelector("#gallery-template").innerHTML,r=document.querySelectorAll("#gallery-product .swiper-slide"),i=t.closest(".swiper-slide").getAttribute("data-swiper-slide-index");e.querySelector(".swiper-container--gallery")?function(t){e.querySelector(".swiper-container--gallery").swiper.slideToLoop(parseInt(t),0)}(i):(r.forEach(function(t){var e=parseInt(t.getAttribute("data-swiper-slide-index")),o=t.querySelector(".product__img-link");n.img[e]={img1x:o.getAttribute("data-img1x"),img2x:o.getAttribute("data-img2x"),webp1x:o.getAttribute("data-webp1x"),webp2x:o.getAttribute("data-webp2x")}}),e.innerHTML=Mustache.render(o,n),e.querySelector(".swiper-container--gallery").setAttribute("data-start-slide",i),SF.swiper(e.querySelectorAll(".swiper-container--gallery")))}t.addEventListener("click",function(t){var e=t.target.closest(".product__img-link");if(e)return t.preventDefault(),SF.modalShow("gallery"),void(window.Swiper?n(e):PubSub.subscribe("swiperJsLoad",function(){n(e)}));var o=t.target.closest("[data-preview]");o&&document.querySelector(".swiper-container--product").swiper.slideToLoop(parseInt(o.getAttribute("data-preview")))})}}(document.querySelector(".product__img")),function(t){if(t){var e=t.querySelectorAll("a"),n=[],o=0;Array.prototype.forEach.call(e,function(t){var e=t.getAttribute("href"),o=document.querySelector(e);o&&n.push(o)}),PubSub.subscribe("windowScroll",function(){t.classList.toggle("product__nav--fixed",t.getBoundingClientRect().top<=0);var r=0;n.forEach(function(t,e){t.getBoundingClientRect().top<1&&(r=e)}),o!=r&&(o=r,Array.prototype.forEach.call(e,function(t,e){t.classList.toggle("is-active",e==o)}))})}}(document.querySelector(".product__nav")),SF.swiper=function(t){Array.prototype.forEach.call(t,function(t){var e=null,n=null,o=document.createElement("div"),r=document.createElement("div"),i=document.createElement("div"),a=document.createElement("button"),s=document.createElement("button"),l=(t.querySelectorAll(".swiper-slide").length,t.getAttribute("data-start-slide")?parseInt(t.getAttribute("data-start-slide")):0),c={loop:!0,pagination:{clickable:!0,bulletElement:"button",bulletClass:"button",bulletActiveClass:"is-active",el:r},navigation:{nextEl:a,prevEl:s},autoplay:{delay:6e3}},u=t.classList.contains("swiper-container--gallery"),d=t.classList.contains("swiper-container--carousel"),p=t.classList.contains("swiper-container--home-slider"),f=t.classList.contains("swiper-container--product");r.className="swiper-pagination",o.className="swiper-controls",i.className="swiper-navigation",s.className="swiper-button-prev button",a.className="swiper-button-next button",s.innerHTML='<svg width="19" height="24" viewBox="0 0 19 24"><path d="M12.528,23.999 L18.272,18.488 L11.243,12.706 L18.272,5.512 L12.529,-0.000 L-0.002,11.998 L12.528,23.999 Z"/></svg>',a.innerHTML='<svg width="19" height="24" viewBox="0 0 19 24"><path d="M6.471,0.001 L0.728,5.511 L7.756,11.294 L0.728,18.487 L6.470,23.999 L19.001,12.000 L6.471,0.001 Z"/></svg>',i.appendChild(s),i.appendChild(a),o.appendChild(i),o.appendChild(r),t.parentNode.appendChild(o),function(){e&&(e.destroy(!1,!0),e=void 0)}(),p&&(o.classList.add("center"),n=function(){console.log("homeSlider"),new Swiper(t,c),n=null}),d&&(c.autoHeight=!1,c.slidesPerView=3,c.slidesPerGroup=3,c.spaceBetween=59,c.loopFillGroupWithBlank=!0,c.loopAdditionalSlides=1,c.breakpoints={320:{slidesPerView:1,slidesPerGroup:1,spaceBetween:0},768:{slidesPerView:3,slidesPerGroup:3,spaceBetween:20},1200:{spaceBetween:59}},n=function(){console.log("carousel"),new Swiper(t,c),n=null}),f&&(n=function(){e||(console.log("product"),new Swiper(t,{loop:!0,navigation:{nextEl:a,prevEl:s}}))}),u&&(n=function(){e||(console.log("gallery"),e=new Swiper(t,{loop:!0,initialSlide:l,navigation:{nextEl:a,prevEl:s}}))}),PubSub.subscribe("windowWidthResize",function(){window.Swiper&&n&&n()}),window.Swiper&&n?n():PubSub.subscribe("swiperJsLoad",n),SF.swiper.init||(SF.swiper.init=!0,setTimeout(function(){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src="/js/swiper.min.js",t.onload=function(){PubSub.publish("swiperJsLoad")},document.head.appendChild(t)},1e3))})},document.querySelector(".swiper-container")&&SF.swiper(document.querySelectorAll(".swiper-container")),SF.tabs=function(t){Array.prototype.forEach.call(t,function(t){var e=t.querySelectorAll(".tabs__btn"),n=t.querySelectorAll(".tabs__item"),o=document.createElement("div");Array.prototype.forEach.call(e,function(t,r){o.appendChild(t),t.addEventListener("click",function(){Array.prototype.forEach.call(e,function(t,e){e==r?(t.classList.add("tabs__btn--active"),n[e].classList.remove("visuallyhidden")):(t.classList.remove("tabs__btn--active"),n[e].classList.add("visuallyhidden"))})})}),o.classList.add("tabs__nav"),t.insertBefore(o,n[0])})},document.querySelectorAll(".tabs").length&&SF.tabs(document.querySelectorAll(".tabs")),SF.tabsHash=function(t){function e(t){return"/"==t.slice(-1)&&(t=t.slice(0,-1)),t}function n(){var t=e(location.hash);PubSub.publish("tab-show"+t,t.slice(1))}Array.prototype.forEach.call(t,function(t){var o=t.querySelectorAll(".tabs-hash__btn"),r=t.querySelectorAll(".tabs-hash__item"),i=document.createElement("div");Array.prototype.forEach.call(o,function(t){var n=document.createElement("a"),o=e(t.closest(".tabs-hash__item").querySelector(".hash-detect").getAttribute("id"));n.setAttribute("href","#"+o),n.className="tabs-hash__btn h4",n.textContent=t.textContent,t.classList.contains("tabs-hash__btn--active")&&n.classList.add("tabs-hash__btn--active"),i.appendChild(n),t.classList.add("hide")}),i.classList.add("tabs-hash__nav"),t.insertBefore(i,r[0]),o=i.querySelectorAll(".tabs-hash__btn"),Array.prototype.forEach.call(r,function(t){var n=e(t.querySelector(".hash-detect").getAttribute("id"));PubSub.subscribe("tab-show#"+n,function(t,e){Array.prototype.forEach.call(r,function(t,n){t.querySelector(".hash-detect").getAttribute("id")===e?(t.classList.remove("visuallyhidden"),o[n].classList.add("tabs-hash__btn--active")):(t.classList.add("visuallyhidden"),o[n].classList.remove("tabs-hash__btn--active"))})})}),window.addEventListener("popstate",function(){n()}),n()})},document.querySelectorAll(".tabs-hash").length&&SF.tabsHash(document.querySelectorAll(".tabs-hash"));