function polyfill(){var e=window,t=document;if(!("scrollBehavior"in t.documentElement.style&&!0!==e.__forceSmoothScrollPolyfill__)){var n,o=e.HTMLElement||e.Element,r=468,i={scroll:e.scroll||e.scrollTo,scrollBy:e.scrollBy,elementScroll:o.prototype.scroll||l,scrollIntoView:o.prototype.scrollIntoView},a=e.performance&&e.performance.now?e.performance.now.bind(e.performance):Date.now,s=(n=e.navigator.userAgent,new RegExp(["MSIE ","Trident/","Edge/"].join("|")).test(n)?1:0);e.scroll=e.scrollTo=function(){void 0!==arguments[0]&&(!0!==c(arguments[0])?h.call(e,t.body,void 0!==arguments[0].left?~~arguments[0].left:e.scrollX||e.pageXOffset,void 0!==arguments[0].top?~~arguments[0].top:e.scrollY||e.pageYOffset):i.scroll.call(e,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:e.scrollX||e.pageXOffset,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:e.scrollY||e.pageYOffset))},e.scrollBy=function(){void 0!==arguments[0]&&(c(arguments[0])?i.scrollBy.call(e,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:0,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:0):h.call(e,t.body,~~arguments[0].left+(e.scrollX||e.pageXOffset),~~arguments[0].top+(e.scrollY||e.pageYOffset)))},o.prototype.scroll=o.prototype.scrollTo=function(){if(void 0!==arguments[0])if(!0!==c(arguments[0])){var e=arguments[0].left,t=arguments[0].top;h.call(this,this,void 0===e?this.scrollLeft:~~e,void 0===t?this.scrollTop:~~t)}else{if("number"==typeof arguments[0]&&void 0===arguments[1])throw new SyntaxError("Value could not be converted");i.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left:"object"!=typeof arguments[0]?~~arguments[0]:this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top:void 0!==arguments[1]?~~arguments[1]:this.scrollTop)}},o.prototype.scrollBy=function(){void 0!==arguments[0]&&(!0!==c(arguments[0])?this.scroll({left:~~arguments[0].left+this.scrollLeft,top:~~arguments[0].top+this.scrollTop,behavior:arguments[0].behavior}):i.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left+this.scrollLeft:~~arguments[0]+this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top+this.scrollTop:~~arguments[1]+this.scrollTop))},o.prototype.scrollIntoView=function(){if(!0!==c(arguments[0])){var n=function(e){for(;e!==t.body&&!1===p(e);)e=e.parentNode||e.host;return e}(this),o=n.getBoundingClientRect(),r=this.getBoundingClientRect();n!==t.body?(h.call(this,n,n.scrollLeft+r.left-o.left,n.scrollTop+r.top-o.top),"fixed"!==e.getComputedStyle(n).position&&e.scrollBy({left:o.left,top:o.top,behavior:"smooth"})):e.scrollBy({left:r.left,top:r.top,behavior:"smooth"})}else i.scrollIntoView.call(this,void 0===arguments[0]||arguments[0])}}function l(e,t){this.scrollLeft=e,this.scrollTop=t}function c(e){if(null===e||"object"!=typeof e||void 0===e.behavior||"auto"===e.behavior||"instant"===e.behavior)return!0;if("object"==typeof e&&"smooth"===e.behavior)return!1;throw new TypeError("behavior member of ScrollOptions "+e.behavior+" is not a valid value for enumeration ScrollBehavior.")}function u(e,t){return"Y"===t?e.clientHeight+s<e.scrollHeight:"X"===t?e.clientWidth+s<e.scrollWidth:void 0}function d(t,n){var o=e.getComputedStyle(t,null)["overflow"+n];return"auto"===o||"scroll"===o}function p(e){var t=u(e,"Y")&&d(e,"Y"),n=u(e,"X")&&d(e,"X");return t||n}function f(t){var n,o,i,s,l=(a()-t.startTime)/r;s=l=l>1?1:l,n=.5*(1-Math.cos(Math.PI*s)),o=t.startX+(t.x-t.startX)*n,i=t.startY+(t.y-t.startY)*n,t.method.call(t.scrollable,o,i),o===t.x&&i===t.y||e.requestAnimationFrame(f.bind(e,t))}function h(n,o,r){var s,c,u,d,p=a();n===t.body?(s=e,c=e.scrollX||e.pageXOffset,u=e.scrollY||e.pageYOffset,d=i.scroll):(s=n,c=n.scrollLeft,u=n.scrollTop,d=l),f({scrollable:s,method:d,startTime:p,startX:c,startY:u,x:o,y:r})}}!function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t(require,exports,module):e.CountUp=t()}(this,function(e,t,n){return function(e,t,n,o,r,i){var a=this;if(a.version=function(){return"1.9.3"},a.options={useEasing:!0,useGrouping:!0,separator:",",decimal:".",easingFn:function(e,t,n,o){return n*(1-Math.pow(2,-10*e/o))*1024/1023+t},formattingFn:function(e){var t,n,o,r,i,s,l=e<0;if(e=Math.abs(e).toFixed(a.decimals),n=(t=(e+="").split("."))[0],o=1<t.length?a.options.decimal+t[1]:"",a.options.useGrouping){for(r="",i=0,s=n.length;i<s;++i)0!==i&&i%3==0&&(r=a.options.separator+r),r=n[s-i-1]+r;n=r}return a.options.numerals.length&&(n=n.replace(/[0-9]/g,function(e){return a.options.numerals[+e]}),o=o.replace(/[0-9]/g,function(e){return a.options.numerals[+e]})),(l?"-":"")+a.options.prefix+n+o+a.options.suffix},prefix:"",suffix:"",numerals:[]},i&&"object"==typeof i)for(var s in a.options)i.hasOwnProperty(s)&&null!==i[s]&&(a.options[s]=i[s]);""===a.options.separator?a.options.useGrouping=!1:a.options.separator=""+a.options.separator;for(var l=0,c=["webkit","moz","ms","o"],u=0;u<c.length&&!window.requestAnimationFrame;++u)window.requestAnimationFrame=window[c[u]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[c[u]+"CancelAnimationFrame"]||window[c[u]+"CancelRequestAnimationFrame"];function d(e){return"number"==typeof e&&!isNaN(e)}window.requestAnimationFrame||(window.requestAnimationFrame=function(e,t){var n=(new Date).getTime(),o=Math.max(0,16-(n-l)),r=window.setTimeout(function(){e(n+o)},o);return l=n+o,r}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)}),a.initialize=function(){return!!a.initialized||(a.error="",a.d="string"==typeof e?document.getElementById(e):e,a.d?(a.startVal=Number(t),a.endVal=Number(n),d(a.startVal)&&d(a.endVal)?(a.decimals=Math.max(0,o||0),a.dec=Math.pow(10,a.decimals),a.duration=1e3*Number(r)||2e3,a.countDown=a.startVal>a.endVal,a.frameVal=a.startVal,a.initialized=!0):(a.error="[CountUp] startVal ("+t+") or endVal ("+n+") is not a number",!1)):!(a.error="[CountUp] target is null or undefined"))},a.printValue=function(e){var t=a.options.formattingFn(e);"INPUT"===a.d.tagName?this.d.value=t:"text"===a.d.tagName||"tspan"===a.d.tagName?this.d.textContent=t:this.d.innerHTML=t},a.count=function(e){a.startTime||(a.startTime=e);var t=(a.timestamp=e)-a.startTime;a.remaining=a.duration-t,a.options.useEasing?a.countDown?a.frameVal=a.startVal-a.options.easingFn(t,0,a.startVal-a.endVal,a.duration):a.frameVal=a.options.easingFn(t,a.startVal,a.endVal-a.startVal,a.duration):a.countDown?a.frameVal=a.startVal-(a.startVal-a.endVal)*(t/a.duration):a.frameVal=a.startVal+(a.endVal-a.startVal)*(t/a.duration),a.countDown?a.frameVal=a.frameVal<a.endVal?a.endVal:a.frameVal:a.frameVal=a.frameVal>a.endVal?a.endVal:a.frameVal,a.frameVal=Math.round(a.frameVal*a.dec)/a.dec,a.printValue(a.frameVal),t<a.duration?a.rAF=requestAnimationFrame(a.count):a.callback&&a.callback()},a.start=function(e){a.initialize()&&(a.callback=e,a.rAF=requestAnimationFrame(a.count))},a.pauseResume=function(){a.paused?(a.paused=!1,delete a.startTime,a.duration=a.remaining,a.startVal=a.frameVal,requestAnimationFrame(a.count)):(a.paused=!0,cancelAnimationFrame(a.rAF))},a.reset=function(){a.paused=!1,delete a.startTime,a.initialized=!1,a.initialize()&&(cancelAnimationFrame(a.rAF),a.printValue(a.startVal))},a.update=function(e){a.initialize()&&(d(e=Number(e))?(a.error="",e!==a.frameVal&&(cancelAnimationFrame(a.rAF),a.paused=!1,delete a.startTime,a.startVal=a.frameVal,a.endVal=e,a.countDown=a.startVal>a.endVal,a.rAF=requestAnimationFrame(a.count))):a.error="[CountUp] update() - new endVal is not a number: "+e)},a.initialize()&&a.printValue(a.startVal)}}),function(e,t){"object"==typeof exports&&exports&&"string"!=typeof exports.nodeName?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):(e.Mustache={},t(e.Mustache))}(this,function(e){var t=Object.prototype.toString,n=Array.isArray||function(e){return"[object Array]"===t.call(e)};function o(e){return"function"==typeof e}function r(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function i(e,t){return null!=e&&"object"==typeof e&&t in e}var a=RegExp.prototype.test;var s=/\S/;function l(e){return!function(e,t){return a.call(e,t)}(s,e)}var c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};var u=/\s*/,d=/\s+/,p=/\s*=/,f=/\s*\}/,h=/#|\^|\/|>|\{|&|=|!/;function m(e){this.string=e,this.tail=e,this.pos=0}function y(e,t){this.view=e,this.cache={".":this.view},this.parent=t}function v(){this.cache={}}m.prototype.eos=function(){return""===this.tail},m.prototype.scan=function(e){var t=this.tail.match(e);if(!t||0!==t.index)return"";var n=t[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},m.prototype.scanUntil=function(e){var t,n=this.tail.search(e);switch(n){case-1:t=this.tail,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=t.length,t},y.prototype.push=function(e){return new y(e,this)},y.prototype.lookup=function(e){var t,n,r,a=this.cache;if(a.hasOwnProperty(e))t=a[e];else{for(var s,l,c,u=this,d=!1;u;){if(e.indexOf(".")>0)for(s=u.view,l=e.split("."),c=0;null!=s&&c<l.length;)c===l.length-1&&(d=i(s,l[c])||(n=s,r=l[c],null!=n&&"object"!=typeof n&&n.hasOwnProperty&&n.hasOwnProperty(r))),s=s[l[c++]];else s=u.view[e],d=i(u.view,e);if(d){t=s;break}u=u.parent}a[e]=t}return o(t)&&(t=t.call(this.view)),t},v.prototype.clearCache=function(){this.cache={}},v.prototype.parse=function(t,o){var i=this.cache,a=t+":"+(o||e.tags).join(":"),s=i[a];return null==s&&(s=i[a]=function(t,o){if(!t)return[];var i,a,s,c=!1,y=[],v=[],w=[],b=!1,g=!1,S="",A=0;function L(){if(b&&!g)for(;w.length;)delete v[w.pop()];else w=[];b=!1,g=!1}function E(e){if("string"==typeof e&&(e=e.split(d,2)),!n(e)||2!==e.length)throw new Error("Invalid tags: "+e);i=new RegExp(r(e[0])+"\\s*"),a=new RegExp("\\s*"+r(e[1])),s=new RegExp("\\s*"+r("}"+e[1]))}E(o||e.tags);for(var _,x,F,k,q,T,V=new m(t);!V.eos();){if(_=V.pos,F=V.scanUntil(i))for(var O=0,M=F.length;O<M;++O)l(k=F.charAt(O))?(w.push(v.length),S+=k):(g=!0,c=!0,S+=" "),v.push(["text",k,_,_+1]),_+=1,"\n"===k&&(L(),S="",A=0,c=!1);if(!V.scan(i))break;if(b=!0,x=V.scan(h)||"name",V.scan(u),"="===x?(F=V.scanUntil(p),V.scan(p),V.scanUntil(a)):"{"===x?(F=V.scanUntil(s),V.scan(f),V.scanUntil(a),x="&"):F=V.scanUntil(a),!V.scan(a))throw new Error("Unclosed tag at "+V.pos);if(q=">"==x?[x,F,_,V.pos,S,A,c]:[x,F,_,V.pos],A++,v.push(q),"#"===x||"^"===x)y.push(q);else if("/"===x){if(!(T=y.pop()))throw new Error('Unopened section "'+F+'" at '+_);if(T[1]!==F)throw new Error('Unclosed section "'+T[1]+'" at '+_)}else"name"===x||"{"===x||"&"===x?g=!0:"="===x&&E(F)}if(L(),T=y.pop())throw new Error('Unclosed section "'+T[1]+'" at '+V.pos);return function(e){for(var t,n=[],o=n,r=[],i=0,a=e.length;i<a;++i)switch((t=e[i])[0]){case"#":case"^":o.push(t),r.push(t),o=t[4]=[];break;case"/":r.pop()[5]=t[2],o=r.length>0?r[r.length-1][4]:n;break;default:o.push(t)}return n}(function(e){for(var t,n,o=[],r=0,i=e.length;r<i;++r)(t=e[r])&&("text"===t[0]&&n&&"text"===n[0]?(n[1]+=t[1],n[3]=t[3]):(o.push(t),n=t));return o}(v))}(t,o)),s},v.prototype.render=function(e,t,n,o){var r=this.parse(e,o),i=t instanceof y?t:new y(t);return this.renderTokens(r,i,n,e,o)},v.prototype.renderTokens=function(e,t,n,o,r){for(var i,a,s,l="",c=0,u=e.length;c<u;++c)s=void 0,"#"===(a=(i=e[c])[0])?s=this.renderSection(i,t,n,o):"^"===a?s=this.renderInverted(i,t,n,o):">"===a?s=this.renderPartial(i,t,n,r):"&"===a?s=this.unescapedValue(i,t):"name"===a?s=this.escapedValue(i,t):"text"===a&&(s=this.rawValue(i)),void 0!==s&&(l+=s);return l},v.prototype.renderSection=function(e,t,r,i){var a=this,s="",l=t.lookup(e[1]);if(l){if(n(l))for(var c=0,u=l.length;c<u;++c)s+=this.renderTokens(e[4],t.push(l[c]),r,i);else if("object"==typeof l||"string"==typeof l||"number"==typeof l)s+=this.renderTokens(e[4],t.push(l),r,i);else if(o(l)){if("string"!=typeof i)throw new Error("Cannot use higher-order sections without the original template");null!=(l=l.call(t.view,i.slice(e[3],e[5]),function(e){return a.render(e,t,r)}))&&(s+=l)}else s+=this.renderTokens(e[4],t,r,i);return s}},v.prototype.renderInverted=function(e,t,o,r){var i=t.lookup(e[1]);if(!i||n(i)&&0===i.length)return this.renderTokens(e[4],t,o,r)},v.prototype.indentPartial=function(e,t,n){for(var o=t.replace(/[^ \t]/g,""),r=e.split("\n"),i=0;i<r.length;i++)r[i].length&&(i>0||!n)&&(r[i]=o+r[i]);return r.join("\n")},v.prototype.renderPartial=function(e,t,n,r){if(n){var i=o(n)?n(e[1]):n[e[1]];if(null!=i){var a=e[6],s=e[5],l=e[4],c=i;return 0==s&&l&&(c=this.indentPartial(i,l,a)),this.renderTokens(this.parse(c,r),t,n,c)}}},v.prototype.unescapedValue=function(e,t){var n=t.lookup(e[1]);if(null!=n)return n},v.prototype.escapedValue=function(t,n){var o=n.lookup(t[1]);if(null!=o)return e.escape(o)},v.prototype.rawValue=function(e){return e[1]},e.name="mustache.js",e.version="3.1.0",e.tags=["{{","}}"];var w=new v;return e.clearCache=function(){return w.clearCache()},e.parse=function(e,t){return w.parse(e,t)},e.render=function(e,t,o,r){if("string"!=typeof e)throw new TypeError('Invalid template! Template should be a "string" but "'+(n(i=e)?"array":typeof i)+'" was given as the first argument for mustache#render(template, view, partials)');var i;return w.render(e,t,o,r)},e.to_html=function(t,n,r,i){var a=e.render(t,n,r);if(!o(i))return a;i(a)},e.escape=function(e){return String(e).replace(/[&<>"'`=\/]/g,function(e){return c[e]})},e.Scanner=m,e.Context=y,e.Writer=v,e}),Element.prototype.matches=Element.prototype.webkitMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.mozMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=0;t[n]&&t[n]!==this;)++n;return!!t[n]},Element.prototype.closest=function(e){for(var t=this;t;){if(t.matches(e))return t;t=t.parentElement}return null},
/*! @source http://purl.eligrey.com/github/classList.js/blob/master/classList.js */
"document"in self&&("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))||function(e){if("Element"in e){e=e.Element.prototype;var t=Object,n=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},o=Array.prototype.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},r=function(e,t){this.name=e,this.code=DOMException[e],this.message=t},i=function(e,t){if(""===t)throw new r("SYNTAX_ERR","The token must not be empty.");if(/\s/.test(t))throw new r("INVALID_CHARACTER_ERR","The token must not contain space characters.");return o.call(e,t)},a=function(e){for(var t=n.call(e.getAttribute("class")||""),o=0,r=(t=t?t.split(/\s+/):[]).length;o<r;o++)this.push(t[o]);this._updateClassName=function(){e.setAttribute("class",this.toString())}},s=a.prototype=[],l=function(){return new a(this)};if(r.prototype=Error.prototype,s.item=function(e){return this[e]||null},s.contains=function(e){return!~i(this,e+"")},s.add=function(){var e=arguments,t=0,n=e.length,o=!1;do{var r=e[t]+"";~i(this,r)&&(this.push(r),o=!0)}while(++t<n);o&&this._updateClassName()},s.remove=function(){var e,t=arguments,n=0,o=t.length,r=!1;do{var a=t[n]+"";for(e=i(this,a);~e;)this.splice(e,1),r=!0,e=i(this,a)}while(++n<o);r&&this._updateClassName()},s.toggle=function(e,t){var n=this.contains(e),o=n?!0!==t&&"remove":!1!==t&&"add";return o&&this[o](e),!0===t||!1===t?t:!n},s.replace=function(e,t){var n=i(e+"");~n&&(this.splice(n,1,t),this._updateClassName())},s.toString=function(){return this.join(" ")},t.defineProperty){s={get:l,enumerable:!0,configurable:!0};try{t.defineProperty(e,"classList",s)}catch(n){void 0!==n.number&&-2146823252!==n.number||(s.enumerable=!1,t.defineProperty(e,"classList",s))}}else t.prototype.__defineGetter__&&e.__defineGetter__("classList",l)}}(self),function(){var e=document.createElement("_");if(e.classList.add("c1","c2"),!e.classList.contains("c2")){var t=function(e){var t=DOMTokenList.prototype[e];DOMTokenList.prototype[e]=function(e){var n,o=arguments.length;for(n=0;n<o;n++)e=arguments[n],t.call(this,e)}};t("add"),t("remove")}if(e.classList.toggle("c3",!1),e.classList.contains("c3")){var n=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return 1 in arguments&&!this.contains(e)==!t?t:n.call(this,e)}}"replace"in document.createElement("_").classList||(DOMTokenList.prototype.replace=function(e,t){var n=this.toString().split(" "),o=n.indexOf(e+"");~o&&(n=n.slice(o),this.remove.apply(this,n),this.add(t),this.add.apply(this,n.slice(1)))}),e=null}()),function(){if("function"==typeof window.CustomEvent)return!1;window.CustomEvent=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:null};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}}(),function(e,t){"use strict";var n={};e.PubSub=n;var o=e.define;!function(e){var t={},n=-1;function o(e){var t;for(t in e)if(e.hasOwnProperty(t))return!0;return!1}function r(e,t,n){try{e(t,n)}catch(e){setTimeout(function(e){return function(){throw e}}(e),0)}}function i(e,t,n){e(t,n)}function a(e,n,o,a){var s,l=t[n],c=a?i:r;if(t.hasOwnProperty(n))for(s in l)l.hasOwnProperty(s)&&c(l[s],e,o)}function s(e,n,r,i){var s=function(e,t,n){return function(){var o=String(e),r=o.lastIndexOf(".");for(a(e,e,t,n);-1!==r;)o=o.substr(0,r),r=o.lastIndexOf("."),a(e,o,t,n)}}(e="symbol"==typeof e?e.toString():e,n,i),l=function(e){var n=String(e),r=Boolean(t.hasOwnProperty(n)&&o(t[n])),i=n.lastIndexOf(".");for(;!r&&-1!==i;)n=n.substr(0,i),i=n.lastIndexOf("."),r=Boolean(t.hasOwnProperty(n)&&o(t[n]));return r}(e);return!!l&&(!0===r?s():setTimeout(s,0),!0)}e.publish=function(t,n){return s(t,n,!1,e.immediateExceptions)},e.publishSync=function(t,n){return s(t,n,!0,e.immediateExceptions)},e.subscribe=function(e,o){if("function"!=typeof o)return!1;e="symbol"==typeof e?e.toString():e,t.hasOwnProperty(e)||(t[e]={});var r="uid_"+String(++n);return t[e][r]=o,r},e.subscribeOnce=function(t,n){var o=e.subscribe(t,function(){e.unsubscribe(o),n.apply(this,arguments)});return e},e.clearAllSubscriptions=function(){t={}},e.clearSubscriptions=function(e){var n;for(n in t)t.hasOwnProperty(n)&&0===n.indexOf(e)&&delete t[n]},e.unsubscribe=function(n){var o,r,i,a="string"==typeof n&&(t.hasOwnProperty(n)||function(e){var n;for(n in t)if(t.hasOwnProperty(n)&&0===n.indexOf(e))return!0;return!1}(n)),s=!a&&"string"==typeof n,l="function"==typeof n,c=!1;if(!a){for(o in t)if(t.hasOwnProperty(o)){if(r=t[o],s&&r[n]){delete r[n],c=n;break}if(l)for(i in r)r.hasOwnProperty(i)&&r[i]===n&&(delete r[i],c=!0)}return c}e.clearSubscriptions(n)}}(n),"function"==typeof o&&o.amd?o(function(){return n}):"object"==typeof exports&&(void 0!==module&&module.exports&&(exports=module.exports=n),exports.PubSub=n,module.exports=exports=n)}("object"==typeof window&&window||this),"object"==typeof exports&&"undefined"!=typeof module?module.exports={polyfill:polyfill}:polyfill()
/*! UTF-8

© kovrigin
Все права разрешены
красивый дизайн должен иметь красивый код®

https://github.com/htmlpluscss/

*/;var SF={resizeTimeout:null};SF.windowWidthOLd=window.innerWidth,window.addEventListener("resize",function(){window.requestAnimationFrame(function(){SF.resizeTimeout||(SF.resizeTimeout=setTimeout(function(){SF.resizeTimeout=null,SF.windowWidthOLd!==window.innerWidth&&(SF.windowWidthOLd=window.innerWidth,PubSub.publish("windowWidthResize"))},100))})}),window.addEventListener("scroll",function(){window.requestAnimationFrame(function(){PubSub.publish("windowScroll")})}),window.addEventListener("DOMContentLoaded",function(){PubSub.publish("DOMContentLoaded")}),window.addEventListener("load",function(){PubSub.publish("pageLoad")}),SF.cssAnimation=function(e){var t,n,o=document.createElement("cssanimation");switch(e){case"animation":t={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};break;case"transition":t={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"}}for(n in t)if(void 0!==o.style[n])return t[n]},SF.isInViewport=function(e){var t=e.getBoundingClientRect();return t.top>=0&&t.bottom<=window.innerHeight},SF.sepNumber=function(e){return(e=parseInt(e,10).toString()).replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,"$1 ")},SF.strToNumber=function(e){return parseInt(e.replace(/\s+/g,""),10)},function(e){if(e){var t=e.querySelectorAll('[name="address-city"]');Array.prototype.forEach.call(t,function(n){n.addEventListener("change",function(){Array.prototype.forEach.call(t,function(e){e.closest(".btn").classList.toggle("is-active",e===n)});var o=e.querySelector('[name="address-city"]:checked').value;PubSub.publish("addressCity",o)})}),PubSub.subscribe("addressCity",function(e,t){console.log(t)})}}(document.querySelector("#address-city")),function(e){e&&(e.addEventListener("click",function(e){var t=e.target.closest("[data-show-map]");if(t){var n=t.getAttribute("data-show-map"),o=document.querySelector("#address-city").getBoundingClientRect().top;o<0&&window.scrollTo(0,o+window.pageYOffset),PubSub.publish("addressShop",n)}}),PubSub.subscribe("addressShop",function(e,t){console.log(t)}))}(document.querySelector(".address-shop")),function(e){if("IntersectionObserver"in window){new IntersectionObserver(function(e,t){Array.prototype.forEach.call(e,function(e){document.body.classList.toggle("bg-footer",e.intersectionRatio>.1)})},{root:null,rootMargin:"0px",threshold:[.1]}).observe(e)}}(document.querySelector(".footer")),function(e){var t=document.querySelectorAll(".slider-range");if(t.length){var n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src="/js/nouislider.min.js",n.onload=function(){SF.sliderRangeInit(t)},document.head.appendChild(n)}}(document.querySelector(".filter")),SF.sliderRangeInit=function(e){Array.prototype.forEach.call(e,function(e){var t=parseInt(e.getAttribute("data-min"),10),n=parseInt(e.getAttribute("data-max"),10),o=e.getAttribute("data-start"),r=e.querySelectorAll(".slider-range__input-control .input"),i=e.querySelector(".slider-range__input-min"),a=e.querySelector(".slider-range__input-max"),s=e.querySelector(".slider-range__track");o=o?(o=o.split(",")).map(function(e){return parseInt(e,10)}):[t,n],console.log(o),noUiSlider.create(s,{start:o,connect:!0,range:{min:t,max:n}}),s.noUiSlider.on("slide",function(e){i.value=SF.sepNumber(parseInt(e[0],10)),a.value=SF.sepNumber(parseInt(e[1],10))}),Array.prototype.forEach.call(r,function(e){e.addEventListener("focus",function(){setTimeout(function(){e.setSelectionRange(0,99)},100)}),e.addEventListener("input",function(o){var r=parseInt(i.value,10),l=parseInt(a.value,10);13==o.keyCode&&(e.blur(),o.preventDefault()),r<t&&(r=t,this.value=t),l>n&&(l=n,this.value=n),r<l&&s.noUiSlider.set([r,l])})})})},function(e){e&&(e.addEventListener("click",function(){document.body.classList.add("filter-show");var e=document.querySelector(".main").getBoundingClientRect().top;e<0&&window.scrollTo(0,window.pageYOffset+e)}),document.querySelector(".js-close-filter").addEventListener("click",function(){document.body.classList.remove("filter-show")}))}(document.querySelector(".js-open-filter")),function(e){e.length&&Array.prototype.forEach.call(e,function(e){e.addEventListener("change",function(){SF.modalShow("rules")})})}(document.querySelectorAll(".js-checkbox-rule")),function(e){e.length&&Array.prototype.forEach.call(e,function(e){e.addEventListener("click",function(){var t=e.getAttribute("data-change"),n=e.getAttribute("data-checked"),o=document.querySelectorAll("."+t);Array.prototype.forEach.call(o,function(e){e.checked="true"==n})})})}(document.querySelectorAll(".js-btn-rules")),function(e){e.length&&Array.prototype.forEach.call(e,function(e){e.addEventListener("submit",function(t){t.preventDefault(),document.querySelector("#popup_notify_url").value=e.getAttribute("data-url"),SF.modalShow("notify")})})}(document.querySelectorAll(".js-modal-notify")),function(e){e.length&&Array.prototype.forEach.call(e,function(e){e.addEventListener("submit",function(t){t.preventDefault(),document.querySelector("#popup_one_click-buy").value=e.getAttribute("data-id"),SF.modalShow("one-click-buy")})})}(document.querySelectorAll(".js-modal-one-click-buy")),function(e){e.length&&Array.prototype.forEach.call(e,function(e){e.addEventListener("submit",function(t){t.preventDefault(),document.querySelector("#popup_pre_order").value=e.getAttribute("data-id"),SF.modalShow("pre-order")})})}(document.querySelectorAll(".js-modal-pre-order")),SF.mask=function(e){if(e.length)if("undefined"==typeof Inputmask){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src="/js/inputmask.min.js",t.onload=function(){Inputmask.extendDefaults({oncomplete:function(){this.classList.add("inputmask--complete")},onincomplete:function(){this.classList.remove("inputmask--complete")},oncleared:function(){},onKeyValidation:function(e,t){}}),n()},document.head.appendChild(t)}else n();function n(){Array.prototype.forEach.call(e,function(e){if(e.classList.contains("inputmask--phone"))var t=new Inputmask({mask:"+7 999 999 99 99",showMaskOnHover:!1,placeholder:"+7 ___ ___ __ __"});else if(e.classList.contains("inputmask--date"))t=new Inputmask({alias:"datetime",showMaskOnHover:!1,inputFormat:"dd.mm.yyyy",placeholder:"дд.мм.гггг"});else if(e.classList.contains("inputmask--currency"))t=new Inputmask({alias:"integer",suffix:" рублей",groupSize:3,autoGroup:!0,groupSeparator:" ",rightAlign:!1});else t=new Inputmask(e.getAttribute("data-mask"));t.mask(e)})}},SF.mask(document.querySelectorAll(".inputmask")),document.addEventListener("click",function(e){(e.target.closest(".btn-menu-toggle")||e.target.classList.contains("menu-show"))&&(SF.OpenMenu?(document.body.classList.remove("menu-show"),window.scrollTo(0,SF.windowScrollOld),SF.OpenMenu=!1):(SF.OpenMenu=!0,SF.windowScrollOld=window.pageYOffset,window.scrollTo(0,0),document.body.classList.add("menu-show")))}),function(e){if(e){var t=e.querySelectorAll(".modal__item"),n=document.querySelectorAll("[data-modal]"),o=document.querySelector(".wrapper"),r=0;e.addEventListener("click",function(e){(e.target.classList.contains("modal")||e.target.closest(".modal__close"))&&SF.hideModal()}),SF.hideModal=function(){e.classList.add("visuallyhidden"),document.body.classList.remove("modal-show"),o.style.top=0,window.scrollTo(0,r),SF.activeModal=!1,setTimeout(function(){document.documentElement.classList.remove("scroll-behavior-off")})},SF.modalShow=function(n,i){document.documentElement.classList.add("scroll-behavior-off"),SF.activeModal||(r=window.pageYOffset,o.style.top=-r+"px"),SF.activeModal=e.querySelector(".modal__item--"+n),e.classList.toggle("modal--wide",SF.activeModal.classList.contains("is-wide")),Array.prototype.forEach.call(t,function(e){e.classList.toggle("visuallyhidden",e!==SF.activeModal)}),e.classList.remove("visuallyhidden"),document.body.classList.remove("menu-show"),document.body.classList.add("modal-show"),window.scrollTo(0,0),SF.activeModal.focus()},Array.prototype.forEach.call(n,function(e){e.addEventListener("click",function(e){e.preventDefault(),SF.modalShow(this.getAttribute("data-modal"))})})}}(document.querySelector(".modal")),function(e){e.length&&Array.prototype.forEach.call(e,function(e){var t=e.querySelector(".more-slide__btn"),n=e.querySelector(".more-slide__box"),o=e.querySelector(".more-slide__inner");t.addEventListener("click",function(){var e=o.clientHeight;t.classList.contains("is-open")&&(e=0,n.classList.remove("is-open")),n.style.height=e+"px",t.classList.toggle("is-open")}),n.addEventListener(SF.cssAnimation("transition"),function(){t.classList.contains("is-open")&&n.classList.add("is-open")})})}(document.querySelectorAll(".more-slide")),function(e){if(e){var t=document.querySelector("#modal-gallery");function n(e){var n={img:[]},o=document.querySelector("#gallery-template").innerHTML,r=document.querySelectorAll("#gallery-product .swiper-slide"),i=e.closest(".swiper-slide").getAttribute("data-swiper-slide-index");t.querySelector(".swiper-container--gallery")?function(e){t.querySelector(".swiper-container--gallery").swiper.slideToLoop(parseInt(e),0)}(i):(r.forEach(function(e){var t=parseInt(e.getAttribute("data-swiper-slide-index")),o=e.querySelector(".product__img-link");n.img[t]={img1x:o.getAttribute("data-img1x"),img2x:o.getAttribute("data-img2x"),webp1x:o.getAttribute("data-webp1x"),webp2x:o.getAttribute("data-webp2x")}}),t.innerHTML=Mustache.render(o,n),t.querySelector(".swiper-container--gallery").setAttribute("data-start-slide",i),SF.swiper(t.querySelectorAll(".swiper-container--gallery")))}e.addEventListener("click",function(e){if(e.preventDefault(),!(window.innerWidth<768)){var t=e.target.closest(".product__img-link");if(t)return SF.modalShow("gallery"),void(window.Swiper?n(t):PubSub.subscribe("swiperJsLoad",function(){n(t)}));var o=e.target.closest("[data-preview]");o&&document.querySelector(".swiper-container--product").swiper.slideToLoop(parseInt(o.getAttribute("data-preview")))}})}}(document.querySelector(".product__img")),function(e){if(e){var t=e.querySelectorAll("a"),n=[],o=0;Array.prototype.forEach.call(t,function(e){var t=e.getAttribute("href"),o=document.querySelector(t);o&&n.push(o)}),PubSub.subscribe("windowScroll",function(){e.classList.toggle("product__nav--fixed",e.getBoundingClientRect().top<=0);var r=0;n.forEach(function(e,t){e.getBoundingClientRect().top<1&&(r=t)}),o!=r&&(o=r,Array.prototype.forEach.call(t,function(e,t){e.classList.toggle("is-active",t==o)}))})}}(document.querySelector(".product__nav")),function(e){e&&Array.prototype.forEach.call(e,function(e){e.addEventListener("change",function(){location.assign(e.value)})})}(document.querySelectorAll(".sort-mobile__select")),SF.swiper=function(e){Array.prototype.forEach.call(e,function(e){var t=null,n=null,o=document.createElement("div"),r=document.createElement("div"),i=document.createElement("div"),a=document.createElement("button"),s=document.createElement("button"),l=(e.querySelectorAll(".swiper-slide").length,e.getAttribute("data-start-slide")?parseInt(e.getAttribute("data-start-slide")):0),c={loop:!0,preloadImages:!1,pagination:{clickable:!0,bulletElement:"button",bulletClass:"button",bulletActiveClass:"is-active",el:r},navigation:{nextEl:a,prevEl:s},autoplay:{delay:6e3}},u=e.classList.contains("swiper-container--gallery"),d=e.classList.contains("swiper-container--carousel"),p=e.classList.contains("swiper-container--home-slider"),f=e.classList.contains("swiper-container--product");if(r.className="swiper-pagination",o.className="swiper-controls",i.className="swiper-navigation",s.className="swiper-button-prev button",a.className="swiper-button-next button",s.innerHTML='<svg width="19" height="24" viewBox="0 0 19 24"><path d="M12.528,23.999 L18.272,18.488 L11.243,12.706 L18.272,5.512 L12.529,-0.000 L-0.002,11.998 L12.528,23.999 Z"/></svg>',a.innerHTML='<svg width="19" height="24" viewBox="0 0 19 24"><path d="M6.471,0.001 L0.728,5.511 L7.756,11.294 L0.728,18.487 L6.470,23.999 L19.001,12.000 L6.471,0.001 Z"/></svg>',i.appendChild(s),i.appendChild(a),o.appendChild(i),o.appendChild(r),e.parentNode.appendChild(o),function(){t&&(t.destroy(!1,!0),t=void 0)}(),p&&(o.classList.add("center"),n=function(){console.log("homeSlider"),new Swiper(e,c),n=null}),d&&(c.autoHeight=!1,c.slidesPerView=3,c.slidesPerGroup=3,c.spaceBetween=59,c.loopFillGroupWithBlank=!0,c.loopAdditionalSlides=1,c.breakpoints={320:{slidesPerView:1,slidesPerGroup:1,spaceBetween:0},768:{slidesPerView:3,slidesPerGroup:3,spaceBetween:20},1200:{spaceBetween:59}},n=function(){console.log("carousel"),new Swiper(e,c),n=null}),f&&(c.autoplay=!1,n=function(){console.log("product"),new Swiper(e,c),n=null}),u&&(n=function(){t||(console.log("gallery"),t=new Swiper(e,{loop:!0,initialSlide:l,navigation:{nextEl:a,prevEl:s}}))}),PubSub.subscribe("windowWidthResize",function(){window.Swiper&&n&&n()}),window.Swiper&&n?n():PubSub.subscribe("swiperJsLoad",n),!SF.swiper.init){SF.swiper.init=!0;var h=document.createElement("script");h.type="text/javascript",h.async=!0,h.src="/js/swiper.min.js",h.onload=function(){PubSub.publish("swiperJsLoad")},document.head.appendChild(h)}})},document.querySelector(".swiper-container")&&SF.swiper(document.querySelectorAll(".swiper-container")),SF.tabs=function(e){Array.prototype.forEach.call(e,function(e){var t=e.querySelectorAll(".tabs__btn"),n=e.querySelectorAll(".tabs__item"),o=document.createElement("div");Array.prototype.forEach.call(t,function(e,r){o.appendChild(e),e.addEventListener("click",function(){Array.prototype.forEach.call(t,function(e,t){t==r?(e.classList.add("tabs__btn--active"),n[t].classList.remove("visuallyhidden")):(e.classList.remove("tabs__btn--active"),n[t].classList.add("visuallyhidden"))})})}),o.classList.add("tabs__nav"),e.insertBefore(o,n[0])})},document.querySelectorAll(".tabs").length&&SF.tabs(document.querySelectorAll(".tabs")),SF.tabsHash=function(e){function t(e){return"/"==e.slice(-1)&&(e=e.slice(0,-1)),e}function n(){var e=t(location.hash);PubSub.publish("tab-show"+e,e.slice(1))}Array.prototype.forEach.call(e,function(e){var o=e.querySelectorAll(".tabs-hash__btn"),r=e.querySelectorAll(".tabs-hash__item"),i=document.createElement("div");Array.prototype.forEach.call(o,function(e){var n=document.createElement("a"),o=t(e.closest(".tabs-hash__item").querySelector(".hash-detect").getAttribute("id"));n.setAttribute("href","#"+o),n.className="tabs-hash__btn h4",n.innerHTML=e.innerHTML,e.classList.contains("tabs-hash__btn--active")&&n.classList.add("tabs-hash__btn--active"),i.appendChild(n),e.classList.add("hide")}),i.classList.add("tabs-hash__nav"),e.insertBefore(i,r[0]),o=i.querySelectorAll(".tabs-hash__btn"),Array.prototype.forEach.call(r,function(e){var n=t(e.querySelector(".hash-detect").getAttribute("id"));PubSub.subscribe("tab-show#"+n,function(e,t){Array.prototype.forEach.call(r,function(e,n){e.querySelector(".hash-detect").getAttribute("id")===t?(e.classList.remove("visuallyhidden"),o[n].classList.add("tabs-hash__btn--active")):(e.classList.add("visuallyhidden"),o[n].classList.remove("tabs-hash__btn--active"))})})}),window.addEventListener("popstate",function(){n()}),n()})},document.querySelectorAll(".tabs-hash").length&&SF.tabsHash(document.querySelectorAll(".tabs-hash"));